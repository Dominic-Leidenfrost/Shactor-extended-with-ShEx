{"version":3,"file":"vite.generated.js","sourceRoot":"","sources":["vite.generated.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * NOTICE: this is an auto-generated file\n *\n * This file has been generated by the `flow:prepare-frontend` maven goal.\n * This file will be overwritten on every run. Any custom changes should be made to vite.config.ts\n */\nimport path from 'path';\nimport { readFileSync, existsSync, writeFileSync, mkdirSync } from 'fs';\nimport * as net from 'net';\n\nimport { processThemeResources } from './target/plugins/application-theme-plugin/theme-handle.js';\nimport { rewriteCssUrls } from './target/plugins/theme-loader/theme-loader-utils.js';\nimport settings from './target/vaadin-dev-server-settings.json';\nimport { defineConfig, mergeConfig, PluginOption, ResolvedConfig, UserConfigFn, OutputOptions, AssetInfo, ChunkInfo } from 'vite';\nimport { getManifest } from 'workbox-build';\n\nimport * as rollup from 'rollup';\nimport brotli from 'rollup-plugin-brotli';\nimport replace from '@rollup/plugin-replace';\nimport checker from 'vite-plugin-checker';\nimport postcssLit from './target/plugins/rollup-plugin-postcss-lit-custom/rollup-plugin-postcss-lit.js';\n\nconst appShellUrl = '.';\n\nconst frontendFolder = path.resolve(__dirname, settings.frontendFolder);\nconst themeFolder = path.resolve(frontendFolder, settings.themeFolder);\nconst statsFolder = path.resolve(__dirname, settings.statsOutput);\nconst frontendBundleFolder = path.resolve(__dirname, settings.frontendBundleOutput);\nconst jarResourcesFolder = path.resolve(__dirname, settings.jarResourcesFolder);\nconst generatedFlowImportsFolder = path.resolve(__dirname, settings.generatedFlowImportsFolder);\nconst themeResourceFolder = path.resolve(__dirname, settings.themeResourceFolder);\n\nconst statsFile = path.resolve(statsFolder, 'stats.json');\n\nconst projectStaticAssetsFolders = [\n  path.resolve(__dirname, 'src', 'main', 'resources', 'META-INF', 'resources'),\n  path.resolve(__dirname, 'src', 'main', 'resources', 'static'),\n  frontendFolder\n];\n\n// Folders in the project which can contain application themes\nconst themeProjectFolders = projectStaticAssetsFolders.map((folder) => path.resolve(folder, settings.themeFolder));\n\nconst themeOptions = {\n  devMode: false,\n  // The following matches folder 'frontend/generated/themes/'\n  // (not 'frontend/themes') for theme in JAR that is copied there\n  themeResourceFolder: path.resolve(themeResourceFolder, settings.themeFolder),\n  themeProjectFolders: themeProjectFolders,\n  projectStaticAssetsOutputFolder: path.resolve(__dirname, settings.staticOutput),\n  frontendGeneratedFolder: path.resolve(frontendFolder, settings.generatedFolder)\n};\n\nconst hasExportedWebComponents = existsSync(path.resolve(frontendFolder, 'web-component.html'));\n\n// Block debug and trace logs.\nconsole.trace = () => {};\nconsole.debug = () => {};\n\nfunction injectManifestToSWPlugin(): rollup.Plugin {\n  const rewriteManifestIndexHtmlUrl = (manifest) => {\n    const indexEntry = manifest.find((entry) => entry.url === 'index.html');\n    if (indexEntry) {\n      indexEntry.url = appShellUrl;\n    }\n\n    return { manifest, warnings: [] };\n  };\n\n  return {\n    name: 'vaadin:inject-manifest-to-sw',\n    async transform(code, id) {\n      if (/sw\\.(ts|js)$/.test(id)) {\n        const { manifestEntries } = await getManifest({\n          globDirectory: frontendBundleFolder,\n          globPatterns: ['**/*'],\n          globIgnores: ['**/*.br'],\n          manifestTransforms: [rewriteManifestIndexHtmlUrl],\n          maximumFileSizeToCacheInBytes: 100 * 1024 * 1024, // 100mb,\n        });\n\n        return code.replace('self.__WB_MANIFEST', JSON.stringify(manifestEntries));\n      }\n    }\n  }\n}\n\nfunction buildSWPlugin(opts): PluginOption {\n  let config: ResolvedConfig;\n  const devMode = opts.devMode;\n\n  const swObj = {}\n\n  async function build(action: 'generate' | 'write', additionalPlugins: rollup.Plugin[] = []) {\n    const includedPluginNames = [\n      'alias',\n      'vite:resolve',\n      'vite:esbuild',\n      'rollup-plugin-dynamic-import-variables',\n      'vite:esbuild-transpile',\n      'vite:terser',\n    ]\n    const plugins: rollup.Plugin[] = config.plugins.filter((p) => {\n      return includedPluginNames.includes(p.name)\n    });\n    plugins.push(\n      replace({\n        values: {\n          'process.env.NODE_ENV': JSON.stringify(config.mode),\n          ...config.define,\n        },\n        preventAssignment: true\n      })\n    );\n    if (additionalPlugins) {\n      plugins.push(...additionalPlugins);\n    }\n    const bundle = await rollup.rollup({\n      input: path.resolve(settings.clientServiceWorkerSource),\n      plugins\n    });\n\n    try {\n      return await bundle[action]({\n        file: path.resolve(frontendBundleFolder, 'sw.js'),\n        format: 'es',\n        exports: 'none',\n        sourcemap: config.command === 'serve' || config.build.sourcemap,\n        inlineDynamicImports: true,\n      });\n    } finally {\n      await bundle.close();\n    }\n  }\n\n  return {\n    name: 'vaadin:build-sw',\n    enforce: 'post',\n    async configResolved(resolvedConfig) {\n      config = resolvedConfig;\n    },\n    async buildStart() {\n      if (devMode) {\n        const { output } = await build('generate');\n        swObj.code = output[0].code;\n        swObj.map =  output[0].map;\n      }\n    },\n    async load(id) {\n      if (id.endsWith('sw.js')) {\n        return '';\n      }\n    },\n    async transform(_code, id) {\n      if (id.endsWith('sw.js')) {\n        return swObj;\n      }\n    },\n    async closeBundle() {\n      await build('write', [\n        injectManifestToSWPlugin(),\n        brotli(),\n      ]);\n    }\n  }\n}\n\nfunction statsExtracterPlugin(): PluginOption {\n  return {\n    name: 'vaadin:stats',\n    enforce: 'post',\n    async writeBundle(options: OutputOptions, bundle: { [fileName: string]: AssetInfo | ChunkInfo }) {\n      const modules = Object.values(bundle).flatMap((b) => (b.modules ? Object.keys(b.modules) : []));\n      const nodeModulesFolders = modules.filter((id) => id.includes('node_modules'));\n      const npmModules = nodeModulesFolders\n        .map((id) => id.replace(/.*node_modules./, ''))\n        .map((id) => {\n          const parts = id.split('/');\n          if (id.startsWith('@')) {\n            return parts[0] + '/' + parts[1];\n          } else {\n            return parts[0];\n          }\n        })\n        .sort()\n        .filter((value, index, self) => self.indexOf(value) === index);\n\n      mkdirSync(path.dirname(statsFile), { recursive: true });\n      writeFileSync(statsFile, JSON.stringify({ npmModules }, null, 1));\n    }\n  };\n}\nfunction vaadinBundlesPlugin(): PluginOption {\n  type ExportInfo =\n    | string\n    | {\n        namespace?: string;\n        source: string;\n      };\n\n  type ExposeInfo = {\n    exports: ExportInfo[];\n  };\n\n  type PackageInfo = {\n    version: string;\n    exposes: Record<string, ExposeInfo>;\n  };\n\n  type BundleJson = {\n    packages: Record<string, PackageInfo>;\n  };\n\n  const disabledMessage = 'Vaadin component dependency bundles are disabled.';\n\n  const modulesDirectory = path.resolve(__dirname, 'node_modules').replace(/\\\\/g, '/');\n\n  let vaadinBundleJson: BundleJson;\n\n  function parseModuleId(id: string): { packageName: string; modulePath: string } {\n    const [scope, scopedPackageName] = id.split('/', 3);\n    const packageName = scope.startsWith('@') ? `${scope}/${scopedPackageName}` : scope;\n    const modulePath = `.${id.substring(packageName.length)}`;\n    return {\n      packageName,\n      modulePath\n    };\n  }\n\n  function getExports(id: string): string[] | undefined {\n    const { packageName, modulePath } = parseModuleId(id);\n    const packageInfo = vaadinBundleJson.packages[packageName];\n\n    if (!packageInfo) return;\n\n    const exposeInfo: ExposeInfo = packageInfo.exposes[modulePath];\n    if (!exposeInfo) return;\n\n    const exportsSet = new Set<string>();\n    for (const e of exposeInfo.exports) {\n      if (typeof e === 'string') {\n        exportsSet.add(e);\n      } else {\n        const { namespace, source } = e;\n        if (namespace) {\n          exportsSet.add(namespace);\n        } else {\n          const sourceExports = getExports(source);\n          if (sourceExports) {\n            sourceExports.forEach((e) => exportsSet.add(e));\n          }\n        }\n      }\n    }\n    return Array.from(exportsSet);\n  }\n\n  function getExportBinding(binding: string) {\n    return binding === 'default' ? '_default as default' : binding;\n  }\n\n  function getImportAssigment(binding: string) {\n    return binding === 'default' ? 'default: _default' : binding;\n  }\n\n  return {\n    name: 'vaadin:bundles',\n    enforce: 'pre',\n    apply(config, { command }) {\n      if (command !== 'serve') return false;\n\n      try {\n        const vaadinBundleJsonPath = require.resolve('@vaadin/bundles/vaadin-bundle.json');\n        vaadinBundleJson = JSON.parse(readFileSync(vaadinBundleJsonPath, { encoding: 'utf8' }));\n      } catch (e: unknown) {\n        if (typeof e === 'object' && (e as { code: string }).code === 'MODULE_NOT_FOUND') {\n          vaadinBundleJson = { packages: {} };\n          console.info(`@vaadin/bundles npm package is not found, ${disabledMessage}`);\n          return false;\n        } else {\n          throw e;\n        }\n      }\n\n      const versionMismatches: Array<{ name: string; bundledVersion: string; installedVersion: string }> = [];\n      for (const [name, packageInfo] of Object.entries(vaadinBundleJson.packages)) {\n        let installedVersion: string | undefined = undefined;\n        try {\n          const { version: bundledVersion } = packageInfo;\n          const installedPackageJsonFile = path.resolve(modulesDirectory, name, 'package.json');\n          const packageJson = JSON.parse(readFileSync(installedPackageJsonFile, { encoding: 'utf8' }));\n          installedVersion = packageJson.version;\n          if (installedVersion && installedVersion !== bundledVersion) {\n            versionMismatches.push({\n              name,\n              bundledVersion,\n              installedVersion\n            });\n          }\n        } catch (_) {\n          // ignore package not found\n        }\n      }\n      if (versionMismatches.length) {\n        console.info(`@vaadin/bundles has version mismatches with installed packages, ${disabledMessage}`);\n        console.info(`Packages with version mismatches: ${JSON.stringify(versionMismatches, undefined, 2)}`);\n        vaadinBundleJson = { packages: {} };\n        return false;\n      }\n\n      return true;\n    },\n    async config(config) {\n      return mergeConfig(\n        {\n          optimizeDeps: {\n            exclude: [\n              // Vaadin bundle\n              '@vaadin/bundles',\n              ...Object.keys(vaadinBundleJson.packages)\n            ]\n          }\n        },\n        config\n      );\n    },\n    load(rawId) {\n      const [path, params] = rawId.split('?');\n      if (!path.startsWith(modulesDirectory)) return;\n\n      const id = path.substring(modulesDirectory.length + 1);\n      const bindings = getExports(id);\n      if (bindings === undefined) return;\n\n      const cacheSuffix = params ? `?${params}` : '';\n      const bundlePath = `@vaadin/bundles/vaadin.js${cacheSuffix}`;\n\n      return `import { init as VaadinBundleInit, get as VaadinBundleGet } from '${bundlePath}';\nawait VaadinBundleInit('default');\nconst { ${bindings.map(getImportAssigment).join(', ')} } = (await VaadinBundleGet('./node_modules/${id}'))();\nexport { ${bindings.map(getExportBinding).join(', ')} };`;\n    }\n  };\n}\n\nfunction themePlugin(opts): PluginOption {\n  const fullThemeOptions = {...themeOptions, devMode: opts.devMode };\n  return {\n    name: 'vaadin:theme',\n    config() {\n      processThemeResources(fullThemeOptions, console);\n    },\n    configureServer(server) {\n      function handleThemeFileCreateDelete(themeFile, stats) {\n        if (themeFile.startsWith(themeFolder)) {\n          const changed = path.relative(themeFolder, themeFile)\n          console.debug('Theme file ' + (!!stats ? 'created' : 'deleted'), changed);\n          processThemeResources(fullThemeOptions, console);\n        }\n      }\n      server.watcher.on('add', handleThemeFileCreateDelete);\n      server.watcher.on('unlink', handleThemeFileCreateDelete);\n    },\n    handleHotUpdate(context) {\n      const contextPath = path.resolve(context.file);\n      const themePath = path.resolve(themeFolder);\n      if (contextPath.startsWith(themePath)) {\n        const changed = path.relative(themePath, contextPath);\n\n        console.debug('Theme file changed', changed);\n\n        if (changed.startsWith(settings.themeName)) {\n          processThemeResources(fullThemeOptions, console);\n        }\n      }\n    },\n    async resolveId(id, importer) {\n      // force theme generation if generated theme sources does not yet exist\n      // this may happen for example during Java hot reload when updating\n      // @Theme annotation value\n      if (path.resolve(themeOptions.frontendGeneratedFolder, \"theme.js\") === importer &&\n            !existsSync(path.resolve(themeOptions.frontendGeneratedFolder, id))) {\n          console.debug('Generate theme file ' + id + ' not existing. Processing theme resource');\n          processThemeResources(fullThemeOptions, console);\n          return;\n      }\n      if (!id.startsWith(settings.themeFolder)) {\n        return;\n      }\n\n      for (const location of [themeResourceFolder, frontendFolder]) {\n        const result = await this.resolve(path.resolve(location, id));\n        if (result) {\n          return result;\n        }\n      }\n    },\n    async transform(raw, id, options) {\n      // rewrite urls for the application theme css files\n      const [bareId, query] = id.split('?');\n      if (!bareId?.startsWith(themeFolder) || !bareId?.endsWith('.css')) {\n        return;\n      }\n      const [themeName] = bareId.substring(themeFolder.length + 1).split('/');\n      return rewriteCssUrls(raw, path.dirname(bareId), path.resolve(themeFolder, themeName), console, opts);\n    }\n  };\n}\nfunction lenientLitImportPlugin(): PluginOption {\n  return {\n    name: 'vaadin:lenient-lit-import',\n    async transform(code, id) {\n      const decoratorImports = [\n        /import (.*?) from (['\"])(lit\\/decorators)(['\"])/,\n        /import (.*?) from (['\"])(lit-element\\/decorators)(['\"])/\n      ];\n      const directiveImports = [\n        /import (.*?) from (['\"])(lit\\/directives\\/)([^\\\\.]*?)(['\"])/,\n        /import (.*?) from (['\"])(lit-html\\/directives\\/)([^\\\\.]*?)(['\"])/\n      ];\n\n      decoratorImports.forEach((decoratorImport) => {\n        let decoratorMatch;\n        while ((decoratorMatch = code.match(decoratorImport))) {\n          console.warn(\n            `Warning: the file ${id} imports from '${decoratorMatch[3]}' when it should import from '${decoratorMatch[3]}.js'`\n          );\n          code = code.replace(decoratorImport, 'import $1 from $2$3.js$4');\n        }\n      });\n\n      directiveImports.forEach((directiveImport) => {\n        let directiveMatch;\n        while ((directiveMatch = code.match(directiveImport))) {\n          console.warn(\n            `Warning: the file ${id} imports from '${directiveMatch[3]}${directiveMatch[4]}' when it should import from '${directiveMatch[3]}${directiveMatch[4]}.js'`\n          );\n          code = code.replace(directiveImport, 'import $1 from $2$3$4.js$5');\n        }\n      });\n\n      return code;\n    }\n  };\n}\n\nfunction runWatchDog(watchDogPort, watchDogHost) {\n  const client = net.Socket();\n  client.setEncoding('utf8');\n  client.on('error', function (err) {\n    console.log('Watchdog connection error. Terminating vite process...', err);\n    client.destroy();\n    process.exit(0);\n  });\n  client.on('close', function () {\n    client.destroy();\n    runWatchDog(watchDogPort, watchDogHost);\n  });\n\n  client.connect(watchDogPort, watchDogHost || 'localhost');\n}\n\nlet spaMiddlewareForceRemoved = false;\n\nconst allowedFrontendFolders = [\n  frontendFolder,\n  path.resolve(generatedFlowImportsFolder), // Contains only generated-flow-imports\n  path.resolve(__dirname, 'node_modules')\n];\n\nfunction setHmrPortToServerPort(): PluginOption {\n  return {\n    name: 'set-hmr-port-to-server-port',\n    configResolved(config) {\n      if (config.server.strictPort && config.server.hmr !== false) {\n        if (config.server.hmr === true) config.server.hmr = {};\n        config.server.hmr = config.server.hmr || {};\n        config.server.hmr.clientPort = config.server.port;\n      }\n    }\n  };\n}\nfunction showRecompileReason(): PluginOption {\n  return {\n    name: 'vaadin:why-you-compile',\n    handleHotUpdate(context) {\n      console.log('Recompiling because', context.file, 'changed');\n    }\n  };\n}\n\nexport const vaadinConfig: UserConfigFn = (env) => {\n  const devMode = env.mode === 'development';\n\n  if (devMode && process.env.watchDogPort) {\n    // Open a connection with the Java dev-mode handler in order to finish\n    // vite when it exits or crashes.\n    runWatchDog(process.env.watchDogPort, process.env.watchDogHost);\n  }\n\n  return {\n    root: frontendFolder,\n    base: '',\n    resolve: {\n      alias: {\n        '@vaadin/flow-frontend': jarResourcesFolder,\n        Frontend: frontendFolder\n      },\n      preserveSymlinks: true\n    },\n    define: {\n      OFFLINE_PATH: settings.offlinePath,\n      VITE_ENABLED: 'true'\n    },\n    server: {\n      host: '127.0.0.1',\n      strictPort: true,\n      fs: {\n        allow: allowedFrontendFolders\n      }\n    },\n    build: {\n      outDir: frontendBundleFolder,\n      assetsDir: 'VAADIN/build',\n      rollupOptions: {\n        input: {\n          indexhtml: path.resolve(frontendFolder, 'index.html'),\n\n          ...hasExportedWebComponents\n            ? { webcomponenthtml: path.resolve(frontendFolder, 'web-component.html') }\n            : {}\n        }\n      }\n    },\n    optimizeDeps: {\n      entries: [\n        // Pre-scan entrypoints in Vite to avoid reloading on first open\n        'generated/vaadin.ts'\n      ],\n      exclude: [\n        '@vaadin/router',\n        '@vaadin/vaadin-license-checker',\n        '@vaadin/vaadin-usage-statistics',\n        'workbox-core',\n        'workbox-precaching',\n        'workbox-routing',\n        'workbox-strategies'\n      ]\n    },\n    plugins: [\n      !devMode && brotli(),\n      devMode && vaadinBundlesPlugin(),\n      devMode && setHmrPortToServerPort(),\n      devMode && showRecompileReason(),\n      settings.offlineEnabled && buildSWPlugin({ devMode }),\n      !devMode && statsExtracterPlugin(),\n      themePlugin({devMode}),\n      lenientLitImportPlugin(),\n      postcssLit({\n        include: ['**/*.css', '**/*.css\\?*'],\n        exclude: [\n          `${themeFolder}/**/*.css`,\n          `${themeFolder}/**/*.css\\?*`,\n          `${themeResourceFolder}/**/*.css`,\n          `${themeResourceFolder}/**/*.css\\?*`,\n          '**/*\\?html-proxy*'\n        ]\n      }),\n      {\n        name: 'vaadin:force-remove-html-middleware',\n        transformIndexHtml: {\n          enforce: 'pre',\n          transform(_html, { server }) {\n            if (server && !spaMiddlewareForceRemoved) {\n              server.middlewares.stack = server.middlewares.stack.filter((mw) => {\n                const handleName = '' + mw.handle;\n                return !handleName.includes('viteHtmlFallbackMiddleware');\n              });\n              spaMiddlewareForceRemoved = true;\n            }\n          }\n        }\n      },\n      hasExportedWebComponents && {\n        name: 'vaadin:inject-entrypoints-to-web-component-html',\n        transformIndexHtml: {\n          enforce: 'pre',\n          transform(_html, { path, server }) {\n            if (path !== '/web-component.html') {\n              return;\n            }\n\n            return [\n              {\n                tag: 'script',\n                attrs: { type: 'module', src: `/generated/vaadin-web-component.ts` },\n                injectTo: 'head'\n              }\n            ]\n          }\n        }\n      },\n      {\n        name: 'vaadin:inject-entrypoints-to-index-html',\n        transformIndexHtml: {\n          enforce: 'pre',\n          transform(_html, { path, server }) {\n            if (path !== '/index.html') {\n              return;\n            }\n\n            const scripts = [];\n\n            if (devMode) {\n              scripts.push({\n                tag: 'script',\n                attrs: { type: 'module', src: `/generated/vite-devmode.ts` },\n                injectTo: 'head'\n              });\n            }\n            scripts.push({\n              tag: 'script',\n              attrs: { type: 'module', src: '/generated/vaadin.ts' },\n              injectTo: 'head'\n            });\n            return scripts;\n          }\n        }\n      },\n      checker({\n        typescript: true\n      })\n    ]\n  };\n};\n\nexport const overrideVaadinConfig = (customConfig: UserConfigFn) => {\n  return defineConfig((env) => mergeConfig(vaadinConfig(env), customConfig(env)));\n};\n"]}